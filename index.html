<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>Cookie Clicker Scuffed Ultimate</title>
<style>
:root{
  --ui-bg: rgba(0,0,0,0.36);
  --accent: #FFD54D;
  --glass: rgba(255,255,255,0.04);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,sans-serif;-webkit-user-select:none;user-select:none;}
html,body{height:100%;overflow:hidden;background:#0f0f12 url('IMG_0770.png') center/cover no-repeat;color:#fff;display:flex;flex-direction:column;}
.header{width:100%;text-align:center;padding:12px 8px;background:rgba(0,0,0,0.3);position:sticky;top:0;z-index:99}
.title{font-size:clamp(20px,3.6vmin,40px);font-weight:900;text-shadow:0 6px 22px rgba(0,0,0,0.7)}
.player-name{margin-top:6px;font-size:clamp(12px,2.2vmin,18px);cursor:pointer;text-decoration:underline;color:#fff;opacity:0.95}
.container{flex:1;display:flex;gap:2vmin;padding:1.5vmin;align-items:stretch;flex-wrap:wrap;justify-content:center;overflow:hidden;}
.cookie-area{flex:1;display:flex;align-items:center;justify-content:center;position:relative;min-width:320px;min-height:320px;}
.cookie-wrap{position:relative;display:flex;align-items:center;justify-content:center;}
#cookie{width:clamp(180px,26vmin,420px);height:auto;cursor:url('IMG_0775.png'),pointer;z-index:30;transition:transform 0.2s ease;}
.stats{position:absolute;top:12px;left:50%;transform:translateX(-50%);text-align:center;padding:8px 14px;border-radius:12px;background:linear-gradient(135deg, rgba(0,0,0,0.45), rgba(0,0,0,0.25));backdrop-filter:blur(6px);box-shadow:0 10px 40px rgba(0,0,0,0.6);z-index:50}
.stats .big{font-size:clamp(16px,3.2vmin,28px);font-weight:800}
.stats .small{font-size:clamp(11px,1.9vmin,16px);opacity:0.95;margin-top:6px}
.sidebar{width:clamp(300px,22vw,480px);flex-shrink:0;background:var(--ui-bg);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:12px;max-height:calc(100vh - 48px);overflow:hidden;}
.top-controls{display:flex;gap:8px;align-items:center;justify-content:space-between}
.mode-btn{padding:8px 12px;border-radius:8px;border:none;background:#fff;color:#111;font-weight:800;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.45);}
.save-load{display:flex;gap:8px}
.save-load button{padding:8px 10px;border-radius:8px;border:none;background:rgba(255,255,255,0.92);cursor:pointer;font-weight:800;}
.upgrade-scroll{overflow-y:auto;display:flex;flex-direction:column;gap:10px;max-height:calc(100% - 86px);padding-right:8px;}
.upgrade{display:flex;gap:10px;align-items:center;background:var(--glass);padding:10px;border-radius:10px;min-height:88px;opacity:0.6;cursor:pointer;transition:transform 160ms ease, box-shadow 160ms ease, opacity 160ms;}
.upgrade.unlocked{opacity:1}
.upgrade img{width:64px;height:auto;border-radius:10px;flex-shrink:0;}
.upgrade .info{flex:1;display:flex;flex-direction:column;justify-content:center;}
.upgrade .title{font-weight:800;font-size:clamp(13px,2vmin,16px);}
.upgrade .meta{font-size:12px;opacity:0.95;margin-top:6px;display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
.upgrade .meta .price{background:rgba(0,0,0,0.35);padding:6px 8px;border-radius:8px;}
.upgrade .owned{font-weight:800;}
.upgrade .cps-total{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:8px;}
.bottom-note{font-size:12px;opacity:0.85;text-align:center}
.settings-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);align-items:center;justify-content:center;z-index:9999;overflow:hidden;}
.settings-content{background:linear-gradient(180deg,#111,#1a1a1a);padding:20px;border-radius:12px;min-width:320px;max-width:90vw;color:#fff;text-align:center;display:flex;flex-direction:column;gap:12px;overflow-y:auto;max-height:95vh;}
.achievements{display:flex;flex-direction:column;gap:6px;overflow-y:auto;max-height:500px;padding-right:8px;}
.achievement{background:rgba(255,255,255,0.1);padding:8px 12px;border-radius:10px;cursor:pointer;position:relative;white-space:nowrap;}
.achievement.locked::after{content:"?";position:absolute;top:0;right:4px;font-weight:900;}
.notify{position:fixed;bottom:12px;left:50%;transform:translateX(-50%);background:var(--accent);padding:10px 18px;border-radius:12px;color:#000;font-weight:800;opacity:0;transition:opacity 0.4s ease;z-index:9999;}
.gold-cookie{position:absolute;width:64px;height:auto;z-index:60;pointer-events:none;animation:goldRotate 5s linear infinite;}
@keyframes goldRotate{0%{transform:rotate(0deg) translateX(-100vw);}100%{transform:rotate(360deg) translateX(100vw);}}
@media (max-width:900px){
  .container{flex-direction:column;padding:10px;align-items:stretch;}
  .cookie-area{min-width:unset;height:60vh;}
  .sidebar{width:100%;max-height:36vh;}
  .stats{top:6px;}
}
</style>
</head>
<body>
<div class="header">
  <div class="title">Cookie Clicker Scuffed</div>
  <div id="playerNameDisplay" class="player-name">Defult factory</div>
  <button id="openSettings" style="margin-top:6px;padding:6px 12px;border:none;border-radius:8px;background:#FFD54D;font-weight:800;cursor:pointer;">Achievements</button>
</div>
<div class="container">
  <div class="cookie-area">
    <div class="cookie-wrap">
      <img id="cookie" src="IMG_0771.jpeg" alt="cookie" draggable="false">
    </div>
    <div class="stats">
      <div class="big" id="cookiesCount">Cookies: 0</div>
      <div class="small" id="cpsCount">CPS: 0</div>
    </div>
  </div>
  <div class="sidebar">
    <div class="top-controls">
      <button id="modeToggle" class="mode-btn">Mode: Buy</button>
      <div class="save-load">
        <button id="saveBtn">Save</button>
        <button id="loadBtn">Load</button>
      </div>
    </div>
    <div class="upgrade-scroll" id="upgradeScroll"></div>
    <div class="bottom-note">Scroll to see all upgrades. Locked upgrades require cookies to unlock.</div>
  </div>
</div>

<div id="settingsModal" class="settings-modal">
  <div class="settings-content">
    <div style="font-weight:900;font-size:clamp(16px,3vmin,24px);" id="settingsPlayerName">Player: Defult factory</div>
    <div class="achievements" id="achievementsList"></div>
    <button id="closeSettings">Close</button>
  </div>
</div>

<div class="notify" id="notifyBox"></div>

<script>
let cookies=0,cps=0,playerName='Defult factory',buyMode=true,lastClick=Date.now();
let goldActive=false,goldEnd=0,goldCPSMultiplier=2;
const cookieEl=document.getElementById('cookie');
const statsCookies=document.getElementById('cookiesCount');
const statsCPS=document.getElementById('cpsCount');
const upgradeScroll=document.getElementById('upgradeScroll');
const modeToggle=document.getElementById('modeToggle');
const saveBtn=document.getElementById('saveBtn');
const loadBtn=document.getElementById('loadBtn');
const playerNameDisplay=document.getElementById('playerNameDisplay');
const settingsModal=document.getElementById('settingsModal');
const openSettings=document.getElementById('openSettings');
const closeSettings=document.getElementById('closeSettings');
const settingsPlayerName=document.getElementById('settingsPlayerName');
const achievementsList=document.getElementById('achievementsList');
const notifyBox=document.getElementById('notifyBox');

const upgrades=[
{id:'cursor',name:'Cursor',image:'IMG_0775.png',baseCost:15,baseCPS:0.1,count:0,unlock:0},
{id:'grandma',name:'Grandma',image:'IMG_0772.jpeg',baseCost:100,baseCPS:1,count:0,unlock:0},
{id:'farm',name:'Farm',image:'IMG_0774.jpeg',baseCost:500,baseCPS:8,count:0,unlock:500},
{id:'mine',name:'Mine',image:'IMG_0776.jpeg',baseCost:2000,baseCPS:47,count:0,unlock:2000},
{id:'factory',name:'Factory',image:'IMG_0777.jpeg',baseCost:10000,baseCPS:260,count:0,unlock:10000},
{id:'bank',name:'Bank',image:'IMG_0779.jpeg',baseCost:140000,baseCPS:1400,count:0,unlock:140000},
{id:'temple',name:'Temple',image:'IMG_0780.jpeg',baseCost:2000000,baseCPS:7800,count:0,unlock:2000000},
{id:'wizard',name:'Wizard Tower',image:'IMG_0781.jpeg',baseCost:33000000,baseCPS:44000,count:0,unlock:33000000},
{id:'trollpedia',name:'TrollPedia',image:'TrollPedia.png',baseCost:560000000,baseCPS:260000,count:0,unlock:560000000},
{id:'basement',name:'TheGuyInYourGrannysBasementV2',image:'TheGuyInYourGrannysBasementV2.png',baseCost:1000000000,baseCPS:1500000,count:0,unlock:1000000000},
{id:'nuclear',name:'Legalize Nuclear Bombs',image:'legalize nuclear bombs.jpg',baseCost:5000000000,baseCPS:10000000,count:0,unlock:5000000000},
{id:'sugar',name:'We Got Sugar',image:'we got surgar.jpg',baseCost:10000000000,baseCPS:25000000,count:0,unlock:10000000000}
];

const achievements=[
{name:'First Click',desc:'Click one time',cond:()=>cookies>=1,unlocked:false},
{name:'50 Clicks',desc:'You got 50 clicks I am proud',cond:()=>cookies>=50,unlocked:false},
{name:'Are you lazy?',desc:'Not click for 5 minutes',cond:()=>Date.now()-lastClick>=300000,unlocked:false},
{name:'WTF are you AFK?',desc:'Wow you are afk or just really lazy for 35 minutes',cond:()=>Date.now()-lastClick>=2100000,unlocked:false},
{name:'Weird Granny Addiction',desc:'Do you have something with grandmas AND WHY DO YOU HAVE 25000 OF THEM YOU SICKO',cond:()=>upgrades.find(u=>u.id=='grandma').count>=25000,unlocked:false},
{name:'Million Cookies',desc:'You reached 1,000,000 cookies',cond:()=>cookies>=1000000,unlocked:false},
{name:'Baker\'s Dozen',desc:'Owned 13 cursors',cond:()=>upgrades.find(u=>u.id=='cursor').count>=13,unlocked:false},
{name:'Farm Frenzy',desc:'Owned 10 farms',cond:()=>upgrades.find(u=>u.id=='farm').count>=10,unlocked:false},
{name:'Mining Master',desc:'Owned 5 mines',cond:()=>upgrades.find(u=>u.id=='mine').count>=5,unlocked:false},
{name:'Factory King',desc:'Owned 3 factories',cond:()=>upgrades.find(u=>u.id=='factory').count>=3,unlocked:false},
{name:'Temple Tycoon',desc:'Owned 2 temples',cond:()=>upgrades.find(u=>u.id=='temple').count>=2,unlocked:false},
{name:'Wizard Lord',desc:'Owned 1 wizard tower',cond:()=>upgrades.find(u=>u.id=='wizard').count>=1,unlocked:false},
{name:'Troll Master',desc:'Owned 1 TrollPedia',cond:()=>upgrades.find(u=>u.id=='trollpedia').count>=1,unlocked:false},
{name:'Basement Overlord',desc:'Owned 1 TheGuyInYourGrannysBasementV2',cond:()=>upgrades.find(u=>u.id=='basement').count>=1,unlocked:false},
{name:'Nuclear Fan',desc:'Owned 1 Legalize Nuclear Bombs',cond:()=>upgrades.find(u=>u.id=='nuclear').count>=1,unlocked:false},
{name:'Sugar Rush',desc:'Owned 1 We Got Sugar',cond:()=>upgrades.find(u=>u.id=='sugar').count>=1,unlocked:false},
{name:'Cookie God',desc:'Reach 100,000,000 cookies',cond:()=>cookies>=100000000,unlocked:false},
{name:'AFK Millionaire',desc:'Earn 1,000,000 cookies AFK',cond:()=>cookies>=1000000&&Date.now()-lastClick>=600000,unlocked:false},
{name:'Golden Time',desc:'Activate golden cookie',cond:()=>goldActive,unlocked:false},
{name:'Ultimate Player',desc:'Own all upgrades at least once',cond:()=>upgrades.every(u=>u.count>=1),unlocked:false},
{name:'Click Maniac',desc:'Click 500 times',cond:()=>cookies>=500,unlocked:false},
{name:'Cookie Collector',desc:'Own 50 upgrades combined',cond:()=>upgrades.reduce((a,b)=>a+b.count,0)>=50,unlocked:false},
{name:'Time Flies',desc:'Play for 1 hour',cond:()=>Date.now()-gameStart>=3600000,unlocked:false},
{name:'Cookie Monster',desc:'Click 10,000 cookies',cond:()=>cookies>=10000,unlocked:false},
{name:'Grandma Slayer',desc:'Own 100 grandmas',cond:()=>upgrades.find(u=>u.id=='grandma').count>=100,unlocked:false},
{name:'Factory Overload',desc:'Own 50 factories',cond:()=>upgrades.find(u=>u.id=='factory').count>=50,unlocked:false},
{name:'Wizard Master',desc:'Own 20 wizard towers',cond:()=>upgrades.find(u=>u.id=='wizard').count>=20,unlocked:false},
{name:'Temple Guru',desc:'Own 10 temples',cond:()=>upgrades.find(u=>u.id=='temple').count>=10,unlocked:false},
{name:'Ultimate Troll',desc:'Own 5 TrollPedia',cond:()=>upgrades.find(u=>u.id=='trollpedia').count>=5,unlocked:false},
{name:'Basement Legend',desc:'Own 3 TheGuyInYourGrannysBasementV2',cond:()=>upgrades.find(u=>u.id=='basement').count>=3,unlocked:false},
{name:'Nuclear Tycoon',desc:'Own 2 Legalize Nuclear Bombs',cond:()=>upgrades.find(u=>u.id=='nuclear').count>=2,unlocked:false},
{name:'Sugar King',desc:'Own 10 We Got Sugar',cond:()=>upgrades.find(u=>u.id=='sugar').count>=10,unlocked:false}];

const gameStart=Date.now();

function calcPrice(u){return Math.floor(u.baseCost*Math.pow(1.15,u.count));}
function computeCPS(){cps=0;upgrades.forEach(u=>{cps+=u.baseCPS*u.count});if(goldActive)cps*=goldCPSMultiplier;}
function updateCounters(){statsCookies.textContent='Cookies: '+Math.floor(cookies);statsCPS.textContent='CPS: '+cps.toFixed(1);}
function showNotify(text){notifyBox.textContent=text;notifyBox.style.opacity='1';setTimeout(()=>{notifyBox.style.opacity='0'},2000);}
function buildUpgradesUI(){
  upgradeScroll.innerHTML='';
  upgrades.forEach(u=>{
    const div=document.createElement('div');div.classList.add('upgrade');if(cookies>=u.unlock)div.classList.add('unlocked');
    const img=document.createElement('img');img.src=u.image;
    const info=document.createElement('div');info.classList.add('info');
    const title=document.createElement('div');title.classList.add('title');title.textContent=u.name;
    const meta=document.createElement('div');meta.classList.add('meta');
    const priceEl=document.createElement('div');priceEl.classList.add('price');priceEl.textContent='Price: '+calcPrice(u);
    const ownedEl=document.createElement('div');ownedEl.classList.add('owned');ownedEl.textContent='Owned: '+u.count;
    const cpsEl=document.createElement('div');cpsEl.classList.add('cps-total');cpsEl.textContent='+ '+(u.baseCPS*u.count).toFixed(1)+' CPS';
    meta.appendChild(priceEl);meta.appendChild(ownedEl);meta.appendChild(cpsEl);
    info.appendChild(title);info.appendChild(meta);div.appendChild(img);div.appendChild(info);
    div.addEventListener('click',()=>{
      if(!buyMode){if(u.count>0){u.count--;cookies+=Math.floor(calcPrice(u)/2);showNotify('Sold '+u.name);}}
      else{if(cookies>=calcPrice(u)){cookies-=calcPrice(u);u.count++;showNotify('Bought '+u.name);}}
      updateAllUI();
    });
    div.addEventListener('mouseenter',()=>{div.style.transform='scale(1.05)';div.style.boxShadow='0 10px 25px rgba(255,255,255,0.35)';})
    div.addEventListener('mouseleave',()=>{div.style.transform='scale(1)';div.style.boxShadow='none';})
    upgradeScroll.appendChild(div);
  });
}
function buildAchievements(){
  achievementsList.innerHTML='';
  achievements.forEach(a=>{
    if(a.cond()&&!a.unlocked){a.unlocked=true;showNotify('Achievement Unlocked: '+a.name);}
    const div=document.createElement('div');div.classList.add('achievement');if(!a.unlocked)div.classList.add('locked');
    div.textContent=a.name;
    div.addEventListener('click',()=>{if(a.unlocked)alert(a.name+'\n'+a.desc);});
    achievementsList.appendChild(div);
  });
}
function showClickEffect(){cookieEl.style.transform=`scale(1.15) rotate(${Math.random()*20-10}deg)`;setTimeout(()=>{cookieEl.style.transform='scale(1) rotate(0)'},150);}
cookieEl.addEventListener('click',()=>{cookies++;lastClick=Date.now();updateCounters();showClickEffect();});
modeToggle.addEventListener('click',()=>{buyMode=!buyMode;modeToggle.textContent='Mode: '+(buyMode?'Buy':'Sell');});
saveBtn.addEventListener('click',()=>{
  const saveData={c:cookies,u:upgrades.map(u=>u.count),n:playerName,lastClick:lastClick};
  const blob=new Blob([JSON.stringify(saveData)],{type:'text/plain'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='CookieScuffedSave.txt';a.click();
});
loadBtn.addEventListener('click',()=>{
  const input=document.createElement('input');input.type='file';input.accept='.txt';input.onchange=e=>{
    const file=e.target.files[0];const reader=new FileReader();
    reader.onload=function(ev){try{const data=JSON.parse(ev.target.result);cookies=data.c;upgrades.forEach((u,i)=>{u.count=data.u[i]});playerName=data.n;lastClick=data.lastClick;playerNameDisplay.textContent=playerName;settingsPlayerName.textContent='Player: '+playerName;}catch(err){alert('Invalid save file');}updateAllUI();}
    reader.readAsText(file);
  };input.click();
});
openSettings.addEventListener('click',()=>{settingsModal.style.display='flex';});
closeSettings.addEventListener('click',()=>{settingsModal.style.display='none';});
playerNameDisplay.addEventListener('click',()=>{
  const newName=prompt('Enter your name:',playerName.replace(' factory',''));
  if(newName!==null && newName.trim()!==''){playerName=newName.trim()+' factory';playerNameDisplay.textContent=playerName;settingsPlayerName.textContent='Player: '+playerName;}
});
function spawnGoldCookie(){
  if(goldActive)return;
  goldActive=true;goldEnd=Date.now()+60000;
  const gold=document.createElement('img');gold.src='IMG_0778.jpeg';gold.className='gold-cookie';
  document.body.appendChild(gold);
  setTimeout(()=>{gold.remove();goldActive=false;updateAllUI();},60000);
}
setInterval(()=>{
  let diff=(Date.now()-lastClick)/1000;
  let gain=cps/10;if(goldActive)gain*=goldCPSMultiplier;
  cookies+=gain;updateCounters();buildAchievements();
},100);
function updateAllUI(){computeCPS();updateCounters();buildUpgradesUI();buildAchievements();}
updateAllUI();
</script>
</body>
</html>
