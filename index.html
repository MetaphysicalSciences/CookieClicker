<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Cookie Clicker Scuffed</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: Arial, sans-serif;
    background: url('IMG_0770.png') no-repeat center center fixed;
    background-size: cover;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: hidden;
}
#header {
    text-align: center;
    color: #fff;
    text-shadow: 2px 2px 5px #000;
    margin-top: 1vmin;
}
#header h1 { font-size: 5vmin; margin:0; }
#header input {
    font-size: 3vmin;
    padding: 0.5vmin;
    text-align: center;
    border-radius: 0.5vmin;
    border:none;
}
#stats {
    color: #fff;
    font-size: 3vmin;
    text-align: center;
    text-shadow: 2px 2px 5px #000;
    margin: 1vmin 0;
}
#cookie-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}
#cookie {
    max-width: 25vmin;
    max-height: 25vmin;
    cursor: url('IMG_0775.png'), pointer;
    transition: transform 0.1s;
}
#upgrades {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2vmin;
    margin-bottom: 2vmin;
}
.upgrade {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    color: #fff;
    text-shadow: 1px 1px 3px #000;
    font-size: 2vmin;
    background: rgba(0,0,0,0.3);
    padding: 1vmin;
    border-radius: 1vmin;
    min-width: 18vmin;
}
.upgrade img {
    width: 12vmin;
    height: auto;
    margin-bottom: 0.5vmin;
}
#buttons {
    display: flex;
    gap: 2vmin;
    margin-bottom: 2vmin;
}
button {
    font-size: 2vmin;
    padding: 1vmin 2vmin;
    border: none;
    border-radius: 0.5vmin;
    cursor: pointer;
    background-color: rgba(255,255,255,0.8);
    transition: background 0.2s;
}
button:hover {
    background-color: rgba(255,255,255,1);
}
</style>
</head>
<body>
<div id="header">
    <h1>Cookie Clicker Scuffed</h1>
    <input type="text" id="playerName" placeholder="Defult">
</div>
<div id="stats">
    Cookies: <span id="cookies">0</span><br>
    CPS: <span id="cps">0</span>
</div>
<div id="cookie-container">
    <img src="IMG_0771.jpeg" id="cookie">
</div>
<div id="upgrades"></div>
<div id="buttons">
    <button id="save">Save</button>
    <button id="load">Load</button>
</div>
<audio id="clickSound" src="computer-mouse-click-352734.mp3"></audio>

<script>
let cookies = 0;
let cps = 0;
const playerNameInput = document.getElementById('playerName');

let upgrades = [
    {name:"Cursor", image:"IMG_0775.png", baseCost:15, baseCPS:0.1, count:0},
    {name:"Grandma", image:"IMG_0772.jpeg", baseCost:100, baseCPS:1, count:0},
    {name:"Farm", image:"IMG_0774.jpeg", baseCost:500, baseCPS:8, count:0},
    {name:"Mine", image:"IMG_0776.jpeg", baseCost:2000, baseCPS:47, count:0},
    {name:"Factory", image:"IMG_0777.jpeg", baseCost:7000, baseCPS:260, count:0}
];

const cookiesEl = document.getElementById('cookies');
const cpsEl = document.getElementById('cps');
const upgradesEl = document.getElementById('upgrades');
const cookieImg = document.getElementById('cookie');
const clickSound = document.getElementById('clickSound');

function updateCPS(){
    cps = upgrades.reduce((total,u)=>total+u.count*u.baseCPS,0);
    cpsEl.textContent = cps.toFixed(1);
}

function updateUI(){
    cookiesEl.textContent = Math.floor(cookies);
    upgradesEl.innerHTML = '';
    upgrades.forEach((u,i)=>{
        const price = Math.floor(u.baseCost * Math.pow(1.15,u.count));
        const div = document.createElement('div');
        div.className = 'upgrade';
        div.innerHTML = `<img src="${u.image}"><span>${u.name}<br>Price: ${price} CPS: ${(u.baseCPS).toFixed(1)}</span>`;
        div.addEventListener('click', ()=>{
            if(cookies >= price){
                cookies -= price;
                u.count++;
                updateCPS();
                updateUI();
            }
        });
        upgradesEl.appendChild(div);
    });
}

cookieImg.addEventListener('click', ()=>{
    cookies++;
    cookiesEl.textContent = Math.floor(cookies);
    cookieImg.style.transform = 'scale(1.1)';
    clickSound.currentTime = 0;
    clickSound.play();
    setTimeout(()=>cookieImg.style.transform='scale(1)',100);
});

function autoClick(){
    cookies += cps/10;
    cookiesEl.textContent = Math.floor(cookies);
}
setInterval(autoClick,100);

function saveGame(){
    const saveData = {
        cookies: Math.floor(cookies),
        upgrades: upgrades.map(u=>u.count),
        playerName: playerNameInput.value || "Defult"
    };
    const blob = new Blob([JSON.stringify(saveData)],{type:'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `cookieSave.json`;
    a.click();
}

function loadGame(file){
    const reader = new FileReader();
    reader.onload = e=>{
        try{
            const data = JSON.parse(e.target.result);
            cookies = data.cookies || 0;
            upgrades.forEach((u,i)=>{u.count=data.upgrades[i]||0});
            playerNameInput.value = data.playerName || "Defult";
            updateCPS();
            updateUI();
        }catch{
            alert('Invalid save file.');
        }
    };
    reader.readAsText(file);
}

document.getElementById('save').addEventListener('click', saveGame);
document.getElementById('load').addEventListener('click', ()=>{
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.json';
    input.onchange = e=>loadGame(e.target.files[0]);
    input.click();
});

updateUI();
</script>
</body>
</html>
